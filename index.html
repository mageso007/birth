<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Amour, Je Suis Désolé</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        /* Styles inchangés... */
        * {
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }

        :root {
            /* Mode jour - doux et romantique */
            --primary-light: #ffb6c1;
            --secondary-light: #ffe4e1;
            --accent-light: #ff69b4;
            --text-light: #5a3e5c;
            --background-light: #fff9fb;
            --card-light: #fff;
            --card-border-light: rgba(255, 182, 193, 0.3);
            
            /* Mode nuit - doux et apaisant */
            --primary-dark: #8a4f7d;
            --secondary-dark: #4a3349;
            --accent-dark: #d8bfd8;
            --text-dark: #f8f0fb;
            --background-dark: #1e1a2e;
            --card-dark: #2a2438;
            --card-border-dark: rgba(138, 79, 125, 0.3);
            
            --primary: var(--primary-light);
            --secondary: var(--secondary-light);
            --accent: var(--accent-light);
            --text: var(--text-light);
            --background: var(--background-light);
            --card: var(--card-light);
            --card-border: var(--card-border-light);
            
            --transition: all 0.4s ease;
            --shadow: 0 8px 20px rgba(0,0,0,0.08);
            --border-radius: 16px;
        }

        .dark-mode {
            --primary: var(--primary-dark);
            --secondary: var(--secondary-dark);
            --accent: var(--accent-dark);
            --text: var(--text-dark);
            --background: var(--background-dark);
            --card: var(--card-dark);
            --card-border: var(--card-border-dark);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: var(--background);
            color: var(--text);
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            transition: var(--transition);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            background-image: linear-gradient(135deg, var(--background) 0%, var(--secondary) 100%);
        }

        body::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 100 100"><path fill="rgba(255,182,193,0.1)" d="M20,20 Q40,5 60,20 T100,20 Q85,40 100,60 T100,100 Q60,85 20,100 T0,100 Q5,60 0,20 T20,20Z"/></svg>');
            background-size: 180px;
            opacity: 0.4;
            z-index: -1;
        }

        .dark-mode body::before {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 100 100"><path fill="rgba(138,79,125,0.15)" d="M20,20 Q40,5 60,20 T100,20 Q85,40 100,60 T100,100 Q60,85 20,100 T0,100 Q5,60 0,20 T20,20Z"/></svg>');
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
            position: relative;
            z-index: 1;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0 40px;
            position: relative;
        }

        .logo {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: var(--accent);
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .theme-toggle {
            background: var(--card);
            border: 1px solid var(--card-border);
            border-radius: 50px;
            padding: 10px 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            font-weight: 500;
            color: var(--text);
        }
        
        .music-toggle {
            background: var(--card);
            border: 1px solid var(--card-border);
            border-radius: 50px;
            padding: 10px 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            font-weight: 500;
            color: var(--text);
            margin-left: 10px;
        }

        .theme-toggle:hover, .music-toggle:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .hero {
            text-align: center;
            padding: 60px 20px;
            position: relative;
            margin: 20px 0 50px;
            border-radius: var(--border-radius);
            background: rgba(255, 255, 255, 0.8);
            box-shadow: var(--shadow);
            overflow: hidden;
            backdrop-filter: blur(8px);
            border: 1px solid var(--card-border);
            transition: var(--transition);
        }

        .dark-mode .hero {
            background: rgba(42, 36, 56, 0.8);
        }

        .hero::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
        }

        .hero h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 4rem;
            margin-bottom: 25px;
            color: var(--accent);
            text-shadow: 0 2px 6px rgba(0,0,0,0.1);
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.5rem;
            max-width: 800px;
            margin: 0 auto 40px;
            color: var(--text);
            font-weight: 300;
            opacity: 0.9;
        }

        .reveal-box {
            background: rgba(255, 255, 255, 0.9);
            padding: 30px 40px;
            border-radius: var(--border-radius);
            display: inline-block;
            margin: 30px auto;
            position: relative;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow);
            max-width: 90%;
            border: 1px solid var(--card-border);
            transform-style: preserve-3d;
            perspective: 800px;
        }

        .dark-mode .reveal-box {
            background: rgba(42, 36, 56, 0.9);
        }

        .reveal-box:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }

        .reveal-text {
            font-size: 2.2rem;
            font-weight: bold;
            color: var(--accent);
            font-family: 'Dancing Script', cursive;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .heart {
            position: absolute;
            font-size: 1.8rem;
            color: var(--accent);
            animation: float 6s ease-in-out infinite;
            z-index: 0;
            opacity: 0.8;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .music-controls {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 10px;
            z-index: 1000;
        }
        
        .volume-slider {
            width: 120px;
            background: var(--card);
            border-radius: 20px;
            padding: 5px;
            box-shadow: var(--shadow);
            opacity: 0.8;
            transition: opacity 0.3s ease;
        }
        
        .volume-slider:hover {
            opacity: 1;
        }

        .countdown {
            background: rgba(255, 255, 255, 0.8);
            padding: 50px 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            margin: 60px 0;
            text-align: center;
            backdrop-filter: blur(8px);
            border: 1px solid var(--card-border);
            position: relative;
        }

        .dark-mode .countdown {
            background: rgba(42, 36, 56, 0.8);
        }

        .countdown h2 {
            font-size: 2.5rem;
            margin-bottom: 40px;
            color: var(--accent);
            font-family: 'Dancing Script', cursive;
        }

        .timer {
            display: flex;
            justify-content: center;
            gap: 25px;
            flex-wrap: wrap;
        }

        .timer-item {
            background: var(--secondary);
            border-radius: var(--border-radius);
            padding: 25px 20px;
            min-width: 120px;
            box-shadow: var(--shadow);
            border: 1px solid var(--card-border);
            transition: var(--transition);
        }

        .timer-item:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.1);
        }

        .timer-value {
            font-size: 3rem;
            font-weight: bold;
            color: var(--accent);
            margin-bottom: 5px;
            text-shadow: 0 2px 3px rgba(0,0,0,0.1);
        }

        .timer-label {
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text);
            opacity: 0.9;
            font-weight: 500;
        }

        .apology {
            background: rgba(255, 255, 255, 0.8);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 50px;
            margin: 60px 0;
            backdrop-filter: blur(8px);
            border: 1px solid var(--card-border);
            position: relative;
            overflow: hidden;
        }

        .dark-mode .apology {
            background: rgba(42, 36, 56, 0.8);
        }

        .apology::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
        }

        .apology h2 {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 40px;
            color: var(--accent);
            font-family: 'Dancing Script', cursive;
        }

        .apology-content {
            max-width: 800px;
            margin: 0 auto;
            font-size: 1.2rem;
            line-height: 1.8;
            position: relative;
        }

        .apology-content p {
            margin-bottom: 25px;
            padding-left: 30px;
            position: relative;
            text-align: center;
        }

        .apology-content p::before {
            content: "❤";
            position: absolute;
            left: 0;
            top: 5px;
            color: var(--accent);
            font-size: 1.2rem;
        }

        .gallery-section {
            margin: 60px 0;
        }

        .gallery-title {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 40px;
            color: var(--accent);
            font-family: 'Dancing Script', cursive;
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
        }

        .gallery-item {
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            position: relative;
            height: 300px;
            background: rgba(255, 255, 255, 0.8);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            backdrop-filter: blur(8px);
            border: 1px solid var(--card-border);
            padding: 30px;
            text-align: center;
        }

        .dark-mode .gallery-item {
            background: rgba(42, 36, 56, 0.8);
        }

        .gallery-item:hover {
            transform: translateY(-10px) rotate(1deg);
            box-shadow: 0 15px 30px rgba(0,0,0,0.12);
        }

        .gallery-item i {
            font-size: 4.5rem;
            color: var(--accent);
            margin-bottom: 20px;
            transition: var(--transition);
        }

        .gallery-item:hover i {
            transform: scale(1.2);
        }

        .gallery-item h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--accent);
            font-weight: 500;
        }

        .gallery-item p {
            font-size: 1rem;
            opacity: 0.9;
        }

        .love-letter {
            background: rgba(255, 255, 255, 0.8);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 50px;
            margin: 60px 0;
            backdrop-filter: blur(8px);
            border: 1px solid var(--card-border);
            position: relative;
            overflow: hidden;
        }

        .dark-mode .love-letter {
            background: rgba(42, 36, 56, 0.8);
        }

        .love-letter::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
        }

        .love-letter h2 {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 40px;
            color: var(--accent);
            font-family: 'Dancing Script', cursive;
        }

        .letter-content {
            max-width: 800px;
            margin: 0 auto;
            font-size: 1.2rem;
            line-height: 1.8;
            position: relative;
        }

        .letter-content p {
            margin-bottom: 25px;
            padding-left: 30px;
            position: relative;
        }

        .letter-content p::before {
            content: "❤";
            position: absolute;
            left: 0;
            top: 5px;
            color: var(--accent);
            font-size: 1.2rem;
        }

        footer {
            text-align: center;
            padding: 50px 0 30px;
            color: var(--text);
            opacity: 0.8;
            font-size: 1rem;
            position: relative;
        }

        footer::before {
            content: "";
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-25px) rotate(5deg); }
            100% { transform: translateY(0) rotate(0deg); }
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            25% { transform: scale(1.1); }
            50% { transform: scale(1); }
            75% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .heartbeat {
            animation: heartbeat 1.5s infinite;
            color: var(--accent);
            display: inline-block;
            margin: 0 5px;
        }
        
        .music-note {
            position: absolute;
            font-size: 1.5rem;
            color: var(--accent);
            opacity: 0;
            z-index: 10;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            animation: floatMusic 4s ease-in-out infinite;
        }
        
        @keyframes floatMusic {
            0% { 
                transform: translateY(0) translateX(0) rotate(0deg);
                opacity: 0;
            }
            20% {
                opacity: 1;
            }
            80% {
                opacity: 0.8;
            }
            100% { 
                transform: translateY(-100px) translateX(20px) rotate(360deg);
                opacity: 0;
            }
        }
        
        .music-notification {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: var(--card);
            border: 1px solid var(--card-border);
            border-radius: 30px;
            padding: 12px 20px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 1000;
            animation: slideIn 0.5s ease-out;
            font-size: 0.9rem;
        }
        
        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @media (max-width: 900px) {
            .hero h1 {
                font-size: 3.2rem;
            }
            
            .hero p {
                font-size: 1.3rem;
            }
            
            .reveal-text {
                font-size: 1.8rem;
            }
            
            .timer {
                gap: 15px;
            }
            
            .timer-item {
                min-width: 100px;
                padding: 20px 15px;
            }
            
            .timer-value {
                font-size: 2.5rem;
            }
            
            .gallery {
                grid-template-columns: repeat(auto-fill, minmax(230px, 1fr));
            }
        }

        @media (max-width: 600px) {
            .logo {
                font-size: 2rem;
            }
            
            .theme-toggle span, .music-toggle span {
                display: none;
            }
            
            .theme-toggle, .music-toggle {
                padding: 12px;
            }
            
            .hero {
                padding: 40px 15px;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .reveal-box {
                padding: 20px;
            }
            
            .reveal-text {
                font-size: 1.5rem;
            }
            
            .timer {
                gap: 10px;
            }
            
            .timer-item {
                min-width: 70px;
                padding: 15px 10px;
            }
            
            .timer-value {
                font-size: 1.8rem;
            }
            
            .timer-label {
                font-size: 0.9rem;
            }
            
            .gallery {
                grid-template-columns: 1fr;
            }
            
            .love-letter, .apology {
                padding: 30px 20px;
            }
            
            .letter-content, .apology-content {
                font-size: 1rem;
            }
            
            .gallery-item {
                height: 250px;
            }
            
            .music-notification {
                font-size: 0.8rem;
                padding: 8px 15px;
                bottom: 10px;
                left: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-heart"></i>
                Mon Amour
            </div>
            <div class="controls">
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>
                    <span>Mode Nuit</span>
                </button>
                <button class="music-toggle" id="musicToggle">
                    <i class="fas fa-volume-up"></i>
                    <span>Musique</span>
                </button>
            </div>
        </header>

        <section class="hero">
            <h1>Mon amour, je veux te dire quelque chose d'important...</h1>
            <p>Dans la vie, on fait parfois des erreurs, mais l'important c'est de les reconnaître et de demander pardon. Aujourd'hui, je veux te dire à quel point je t'aime et combien je regrette mes actes.</p>
            
            <div class="reveal-box" id="revealBox">
                <div class="reveal-text">Clique ici pour lire mon message <i class="fas fa-heart heartbeat"></i></div>
            </div>
            
            <!-- Floating hearts -->
            <div class="heart" style="top: 10%; left: 5%; animation-delay: 0s;">❤</div>
            <div class="heart" style="top: 20%; right: 10%; animation-delay: 1s;">❤</div>
            <div class="heart" style="bottom: 15%; left: 15%; animation-delay: 2s;">❤</div>
            <div class="heart" style="bottom: 25%; right: 5%; animation-delay: 3s;">❤</div>
            <div class="heart" style="top: 40%; left: 20%; animation-delay: 4s;">❤</div>
        </section>

        <section class="apology">
            <h2>Je suis désolé</h2>
            <div class="apology-content">
                <p>Ma chérie, je tiens d'abord à te dire que je suis profondément désolé pour mes agissements.</p>
                <p>Je reconnais pleinement que ce que j'ai fait n'était pas acceptable et qu'il n'y a aucune excuse.</p>
                <p>Je sais que je t'ai blessée et que j'ai trahi ta confiance, et pour cela, je m'en veux terriblement.</p>
                <p>Malgré mes erreurs, je veux que tu saches que je t'aime comme un fou, plus que tout au monde.</p>
                <p>Tu es la personne la plus importante dans ma vie, ma lumière, mon tout.</p>
                <p>Je ferai tout mon possible pour regagner ta confiance et te prouver que je mérite ta place dans ta vie.</p>
                <p>S'il te plaît, pardonne-moi. Je t'aime plus que les mots ne peuvent le dire.</p>
            </div>
        </section>

        <section class="countdown">
            <h2>Notre amour est éternel</h2>
            <div class="timer">
                <div class="timer-item">
                    <div class="timer-value" id="days">0</div>
                    <div class="timer-label">Jours</div>
                </div>
                <div class="timer-item">
                    <div class="timer-value" id="hours">0</div>
                    <div class="timer-label">Heures</div>
                </div>
                <div class="timer-item">
                    <div class="timer-value" id="minutes">0</div>
                    <div class="timer-label">Minutes</div>
                </div>
                <div class="timer-item">
                    <div class="timer-value" id="seconds">0</div>
                    <div class="timer-label">Secondes</div>
                </div>
            </div>
        </section>

        <section class="love-letter">
            <h2>Une lettre pour toi</h2>
            <div class="letter-content">
                <p>Mon amour,</p>
                <p>Je tenais à te dire à quel point je suis heureux de vivre cette merveilleuse aventure avec toi. Chaque jour à tes côtés est un cadeau, et maintenant nous allons partager le plus beau des cadeaux : notre enfant.</p>
                <p>Je me souviens de nos premiers regards, de nos premiers rires, et maintenant, je rêve de nos premiers pas en tant que parents. Je sais que nous formerons une famille extraordinaire.</p>
                <p>Tu es la personne la plus attentionnée, la plus aimante que je connaisse, et je n'ai aucun doute que tu seras un parent incroyable. Notre bébé est déjà si chanceux de t'avoir comme mère.</p>
                <p>Je t'aime plus que tout au monde, plus chaque jour, et je ne peux pas attendre de voir notre famille s'agrandir.</p>
                <p>Pour toujours,</p>
                <p>Ton amour</p>
            </div>
        </section>

        <section class="gallery-section">
            <h2 class="gallery-title">Mon amour pour toi</h2>
            <div class="gallery">
                <div class="gallery-item">
                    <i class="fas fa-heart"></i>
                    <h3>Mon Amour</h3>
                    <p>Tu es ma raison de vivre, ma lumière dans les moments sombres</p>
                </div>
                <div class="gallery-item">
                    <i class="fas fa-hand-holding-heart"></i>
                    <h3>Mon Engagement</h3>
                    <p>Je promets de faire tout mon possible pour être l'homme que tu mérites</p>
                </div>
                <div class="gallery-item">
                    <i class="fas fa-hands-holding-child"></i>
                    <h3>Notre Famille</h3>
                    <p>Je ferai tout pour que notre enfant grandisse dans un foyer plein d'amour</p>
                </div>
                <div class="gallery-item">
                    <i class="fas fa-star"></i>
                    <h3>Notre Futur</h3>
                    <p>Tous les rêves que nous partageons prendront vie grâce à notre amour</p>
                </div>
            </div>
        </section>

        <footer>
            <p>Fait avec <i class="fas fa-heart heartbeat"></i> pour la femme la plus extraordinaire</p>
            <p>© 2025 - Notre belle famille</p>
        </footer>
    </div>
    
    <div class="music-controls">
        <input type="range" min="0" max="1" step="0.01" value="0.5" class="volume-slider" id="volumeSlider">
    </div>
    
    <div class="music-notification" id="musicNotification">
        <i class="fas fa-music"></i>
        <span>Cliquez n'importe où pour activer la musique</span>
    </div>
    
    <!-- Audio element for background music -->
    <audio id="backgroundMusic" loop>
        <source src="./music/music.mp3" type="audio/mpeg">
        Votre navigateur ne supporte pas l'élément audio.
    </audio>

    <script>
        // Thème jour/nuit
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;
        const moonIcon = themeToggle.querySelector('i');
        
        // Vérifier le thème préféré
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            body.classList.add('dark-mode');
            moonIcon.classList.remove('fa-moon');
            moonIcon.classList.add('fa-sun');
            themeToggle.querySelector('span').textContent = 'Mode Jour';
        }
        
        themeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            
            if (body.classList.contains('dark-mode')) {
                moonIcon.classList.remove('fa-moon');
                moonIcon.classList.add('fa-sun');
                themeToggle.querySelector('span').textContent = 'Mode Jour';
                localStorage.setItem('theme', 'dark');
            } else {
                moonIcon.classList.remove('fa-sun');
                moonIcon.classList.add('fa-moon');
                themeToggle.querySelector('span').textContent = 'Mode Nuit';
                localStorage.setItem('theme', 'light');
            }
        });
        
        // Contrôle de la musique
        const musicToggle = document.getElementById('musicToggle');
        const musicIcon = musicToggle.querySelector('i');
        const backgroundMusic = document.getElementById('backgroundMusic');
        const volumeSlider = document.getElementById('volumeSlider');
        const musicNotification = document.getElementById('musicNotification');
        let musicPlaying = false;
        
        // Initialiser le volume
        backgroundMusic.volume = 0;
        
        // Gestion du volume
        volumeSlider.addEventListener('input', () => {
            backgroundMusic.volume = volumeSlider.value;
        });
        
        // Fonction pour fondu entrant du volume
        function fadeInMusic() {
            const fadeDuration = 3000;
            const startVolume = 0;
            const endVolume = 0.5;
            const startTime = Date.now();
            
            function fade() {
                const elapsed = Date.now() - startTime;
                const fraction = elapsed / fadeDuration;
                
                if (fraction < 1) {
                    backgroundMusic.volume = startVolume + fraction * (endVolume - startVolume);
                    requestAnimationFrame(fade);
                } else {
                    backgroundMusic.volume = endVolume;
                    volumeSlider.value = endVolume;
                }
            }
            
            fade();
        }
        
        // Fonction pour créer des notes de musique flottantes
        function createMusicNotes() {
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const note = document.createElement('div');
                    note.innerHTML = '♪';
                    note.classList.add('music-note');
                    note.style.left = Math.random() * 100 + '%';
                    note.style.fontSize = (Math.random() * 1.5 + 1) + 'rem';
                    note.style.animationDuration = (Math.random() * 3 + 4) + 's';
                    note.style.animationDelay = (Math.random() * 2) + 's';
                    
                    document.body.appendChild(note);
                    
                    // Supprimer après l'animation
                    setTimeout(() => {
                        note.remove();
                    }, 6000);
                }, i * 200);
            }
        }
        
        // Nouvelle fonction pour gérer la lecture après interaction
        function initMusicAfterInteraction() {
            backgroundMusic.play()
                .then(() => {
                    musicPlaying = true;
                    musicIcon.classList.remove('fa-volume-mute');
                    musicIcon.classList.add('fa-volume-up');
                    fadeInMusic();
                    createMusicNotes();
                    
                    // Mettre à jour la notification
                    musicNotification.innerHTML = '<i class="fas fa-music"></i> Musique romantique en cours de lecture...';
                    
                    // Cacher la notification après 5 secondes
                    setTimeout(() => {
                        musicNotification.style.opacity = '0';
                        setTimeout(() => {
                            musicNotification.style.display = 'none';
                        }, 500);
                    }, 5000);
                })
                .catch(error => {
                    console.log("La lecture de la musique a échoué : ", error);
                    musicNotification.innerHTML = '<i class="fas fa-exclamation-triangle"></i> Cliquez sur le bouton Musique pour démarrer';
                    musicIcon.classList.remove('fa-volume-up');
                    musicIcon.classList.add('fa-volume-mute');
                    musicPlaying = false;
                });
        }

        // Démarrer la musique après la première interaction
        document.addEventListener('click', function initMusicOnInteraction() {
            initMusicAfterInteraction();
            // Retirer l'écouteur après la première interaction
            document.removeEventListener('click', initMusicOnInteraction);
        }, {once: true});
        
        // Gestion du bouton musique
        musicToggle.addEventListener('click', () => {
            if (musicPlaying) {
                backgroundMusic.pause();
                musicIcon.classList.remove('fa-volume-up');
                musicIcon.classList.add('fa-volume-mute');
                musicPlaying = false;
            } else {
                backgroundMusic.play()
                    .then(() => {
                        musicPlaying = true;
                        musicIcon.classList.remove('fa-volume-mute');
                        musicIcon.classList.add('fa-volume-up');
                        createMusicNotes();
                    })
                    .catch(error => {
                        console.log("La lecture de la musique a échoué : ", error);
                    });
            }
        });
        
        // Révélation de la surprise
        const revealBox = document.getElementById('revealBox');
        revealBox.addEventListener('click', () => {
            revealBox.innerHTML = `
                <div class="reveal-text" style="font-size: 2.8rem; color: var(--accent);">
                    Je t'aime plus que tout <i class="fas fa-heart heartbeat"></i>
                </div>
                <div style="margin-top: 25px; font-size: 1.4rem; color: var(--text);">
                    Mon amour, je ferai tout pour réparer mes erreurs et mériter ton pardon
                </div>
            `;
            
            // Confettis virtuels
            for (let i = 0; i < 30; i++) {
                createHeart();
            }
        });
        
        function createHeart() {
            const heart = document.createElement('div');
            heart.innerHTML = '❤';
            heart.classList.add('heart');
            heart.style.left = Math.random() * 100 + '%';
            heart.style.top = Math.random() * 100 + '%';
            heart.style.fontSize = (Math.random() * 25 + 15) + 'px';
            heart.style.animationDuration = (Math.random() * 3 + 2) + 's';
            heart.style.animationDelay = (Math.random() * 2) + 's';
            
            document.querySelector('.hero').appendChild(heart);
            
            // Supprimer après l'animation
            setTimeout(() => {
                heart.remove();
            }, 5000);
        }
        
        // Compte à rebours jusqu'au 27 janvier 2026
        function updateCountdown() {
            const dueDate = new Date('2026-01-27T00:00:00');
            const now = new Date();
            const diff = dueDate - now;
            
            if (diff <= 0) {
                document.getElementById('days').textContent = '0';
                document.getElementById('hours').textContent = '0';
                document.getElementById('minutes').textContent = '0';
                document.getElementById('seconds').textContent = '0';
                return;
            }
            
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            
            document.getElementById('days').textContent = days;
            document.getElementById('hours').textContent = hours;
            document.getElementById('minutes').textContent = minutes;
            document.getElementById('seconds').textContent = seconds;
        }
        
        setInterval(updateCountdown, 1000);
        updateCountdown();
    </script>
</body>
</html>